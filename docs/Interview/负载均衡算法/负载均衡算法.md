# 负载均衡算法

## 分类

1. 轮询(Round Robin)
2. 加权轮询(Weighted Round Robbin)
3. 最少连接(Least Connections)
4. 加权最少连接(Weighted Least Connection)
5. 随机算法(Random)
6. 源地址哈希法(IP Hash)

## 解释

### 轮询(Round Robin)

轮询算法把每个请求轮流发送到每个服务器上。

### 加权轮询(Weighted Round Robbin)

加权轮询是在轮询的基础上，根据服务器的性能差异，为服务器赋予一定的权值，性能高的服务器分配更高的权值。
### 最少连接(Least Connections)

由于每个请求的连接时间不一样，使用轮询或者加权轮询算法的话，可能会让一台服务器当前连接数过大，而另一台服务器的连接过小，造成负载不均衡。

最少连接算法就是将请求发送给当前最少连接数的服务器上。
### 加权最少连接(Weighted Least Connection)

在最少连接的基础上，根据服务器的性能为每台服务器分配权重，再根据权重计算出每台服务器能处理的连接数。
### 随机算法(Random)

把请求随机发送到服务器上。 和轮询算法类似，该算法比较适合服务器性能差不多的场景。
### 源地址哈希法(IP Hash)

源地址哈希通过对客户端IP计算哈希值之后，再对服务器数量取模得到目标服务器的序号.

可以保证同-IP的客户端的请求会转发到同一台服务器上，用来实现会话粘滞(Sticky Session)