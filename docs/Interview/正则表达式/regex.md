# Regex

## 匹配ip地址

1. IP地址格式：

```shell
IP地址的长度为32位(共有2^32个IP地址)，分为4段，每段8位
用十进制数字表示，每段数字范围为0～255，段与段之间用句点隔开。
0.0.0.0 ～ 255.255.255.255
```

2. 需要用到的匹配规则
    + \d表示0~9的任何一个数字
    + {2}表示正好出现两次
    + [0-4]表示0~4的任何一个数字
    + | 的意思是或者
    + ( )表达式中有几个()就表示有几个相应的匹配字符串
    + 1\d{2}的意思就是100~199之间的任意一个数字
    + 2[0-4]\d的意思是200~249之间的任意一个数字
    + 25[0-5]的意思是250~255之间的任意一个数字
    + [1-9]\d的意思是10~99之间的任意一个数字
    + [1-9]的意思是1~9之间的任意一个数字

3. 解析
   + 0~255可以分两部分匹配 0~199 和 200~255
     + 0~199 正则表达式为  `[0-1]?\d{1,2}`
     + [0-1]? 表示匹配 0或1一次或零次
     + \d 表示匹配任意一个十进制数字，即 0~9
     + {1,2} 表示匹配上一个元素至少一次，最多两次，这里就是 \d一次或两次
   + 200~255 正则表达式为 `2((5[0-5])|([0-4]\d))`，又可以分为两部分 200~249 和 250~255
     + 2 表示必须以2开头
     + 5[0-5] 表示匹配 50~55 之间的数 
     + [0-4]\d 表示 00~49 之间的数
   + (0~255) 的正则表达式可以写为 `(2((5[0-5])|([0-4]\d)))|([0-1]?\d{1,2})`
   + .(0~255) 的正则表达式可以写为 `\.((2((5[0-5])|([0-4]\d)))|([0-1]?\d{1,2}))`
   + .(0~255) 匹配3次的正则表达式可以写为 `(\.((2((5[0-5])|([0-4]\d)))|([0-1]?\d{1,2}))){3}`
   + 正则表达式为 `^((2((5[0-5])|([0-4]\d)))|([0-1]?\d{1,2}))(\.((2((5[0-5])|([0-4]\d)))|([0-1]?\d{1,2}))){3}$`
     + ^ 表示匹配字符串开头
     + $ 表示匹配字符串结尾